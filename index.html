<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <title>Wiki API</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="stylesheet" href="https:/maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.1.0/octicons.min.css">

  </head>
  <body>

  <div class="all container-fluid text-center">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <!-- TÃ­tulo -->
        <div class="row">
          <div class="col-md-10">
            <h4 class="channel-list">Twitch channel list</h4>
            <br>
          </div>
          <!-- Categoria -->
          <div class="col-md-2">
            <ul>
              <li class="todos">Todos</li>
              <li class="online">Online</li>
              <li class="offline">Offline</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

      <div class="row results">
        <div class="col-md-8 col-md-offset-2">
          <ul class="result-list">
            <li class="result">
              <a class="result" href="https://www.twitch.tv/freecodecamp">
                <div class="result-box">
                  <img height="48" width="48" src="https://static-cdn.jtvnw.net/jtv_user_pictures/cretetion-profile_image-12bae34d9765f222-300x300.jpeg">
                  <h3 class="name float-left">cretetion</h3>
                  <p class="game">Destiny</p>
                  <p class="status float-right">Ughhhhh Monday</p>
                </div>
              </a>
            </li>
          </ul>
      </div>
    </div>

    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.min.js"></script>

  <script>
  $(document).ready(function(){
    $.getJSON('https://api.twitch.tv/kraken/streams/freecodecamp?callback=?', function(data) {
      if (data.stream){

        // for(var key in data){
          var game = data.stream.game;
          var logo = data.stream.channel.logo;
          var status = data.stream.channel.status;
          var lang = data.stream.channel.language;
          var url = data.stream.channel.url;
          var name = data.stream.channel.name;

            // console.log(data.stream);
            $(".result-list").append("<li class=\"result\"><a class=\"result\" href=\"" + url +
            "\"><img height=\"48\" width=\"48\" src=\"" + logo +"\"> <h4 class=\"game float-left\">" + game +
            "</h4><p class=\"status\">" + status + "</p></li>");
        // };

      }else{
        // Sem dados
        console.log("OFF");
      };

    },"jsonp");

  });
  </script>
</html>
